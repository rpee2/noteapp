{% extends "base.html" %}
{% block title %} Users{% endblock %}

{% block content %}
<div class="container m-3">
<table class="table table-light table-hover table-border">

<thead>
    <tr>
        {# table functionality in bootstrap 4 #}
        <th scope="col">User</th> 
        <th scope="col">Name</th>
        <th scope="col">Email</th>
        <th scope="col">Notes</th>
    </tr>
</thead>
<tbody>
{% for user in users %}
    <tr>
        <td>{{user.id}}</td>
        <td>{{user.firstName}}</td>
        <td>{{user.email}}</td>
        <td><ul>{% for note in notes %}
                {% if note.user_id is sameas user.id %}
                    <li>{{note.text}} ({{note.date}})</li>
                {% endif %}
            {% endfor %}
            </ul>
        </td>
    </tr>
    {% endfor %}
</tbody>
</table>
</div>
{% endblock %}